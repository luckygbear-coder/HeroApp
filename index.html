<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å†’éšªè€…å¤©å ‚ ï½œ ç†Šç†Šæ‘é•·</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- å…±ç”¨æ¨£å¼ -->
  <link rel="stylesheet" href="style.css" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#2d254a" />
  <link rel="apple-touch-icon" href="icons/bear-192.png" />

  <!-- é¦–é å°ˆç”¨å°æ¨£å¼ -->
  <style>
    body.page-wrap {
      margin: 0;
      background: #fde9d2;
      font-family: "Noto Sans TC", -apple-system, BlinkMacSystemFont, sans-serif;
      color: #5a3844;
    }

    .game-wrap {
      max-width: 480px;
      margin: 0 auto;
      padding: 16px;
    }

    .card {
      background: #fff7ec;
      border-radius: 18px;
      border: 2px solid #f4d5aa;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      padding: 16px 14px;
      margin-bottom: 16px;
    }

    .home-title {
      margin: 4px 0 4px;
      font-size: 22px;
      font-weight: 800;
      letter-spacing: .08em;
      text-align: center;
      color: #6b3430;
    }

    .subtitle {
      text-align: center;
      font-size: 13px;
      color: #a0745a;
      margin-bottom: 8px;
    }

    /* ğŸ» æœ€ä¸Šé¢çš„æ‘é•·ä»‹ç´¹å¡ç‰‡ */
    .intro-card {
      position: relative;
    }

    /* æ‘é•·é ­åƒï¼‹å°è©±æ¡†æ©«æ’ï¼šå·¦æ°£æ³¡ã€å³ç†Šç†Š */
    .intro-main {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 8px;
    }

    .intro-main-left {
      flex: 1;
      display: flex;
      justify-content: flex-start;
    }

    .intro-main-right {
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }

    #quoteBearAvatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 3px solid #f3d4a0;
      object-fit: cover;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      cursor: pointer;
      transition: transform .15s ease;
    }

    #quoteBearAvatar:hover {
      transform: translateY(-2px);
    }

    /* ğŸ—¨ï¸ ç†Šç†Šå°è©±æ¡†ï¼ˆåœ¨å·¦é‚Šï¼‰ */
    .bear-speech {
      max-width: 260px;
      padding: 8px 10px;
      background: #fffdf7;
      border-radius: 12px;
      border: 1px solid #f3d4a0;
      font-size: 13px;
      line-height: 1.5;
      color: #6b4630;
      box-shadow: 0 3px 8px rgba(0,0,0,0.12);
      opacity: 0;
      transform: translateY(4px);
      pointer-events: none;
      transition: opacity .18s ease, transform .18s ease;
      position: relative;
    }

    .bear-speech::before {
      content: "";
      position: absolute;
      top: 50%;
      right: -7px;
      transform: translateY(-50%);
      border-width: 7px 0 7px 7px;
      border-style: solid;
      border-color: transparent transparent transparent #f3d4a0;
    }

    .bear-speech::after {
      content: "";
      position: absolute;
      top: 50%;
      right: -6px;
      transform: translateY(-50%);
      border-width: 6px 0 6px 6px;
      border-style: solid;
      border-color: transparent transparent transparent #fffdf7;
    }

    .bear-speech.show {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .intro-text {
      font-size: 14px;
      line-height: 1.6;
      color: #8b6a52;
      margin: 6px 0 12px;
      text-align: left;
    }

    .intro-btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 6px;
    }

    .intro-btn {
      flex: 1 1 calc(50% - 8px);
      padding: 9px 0;
      border-radius: 999px;
      border: 1px solid #f0cfa4;
      background: #ffffff;
      font-size: 13px;
      font-weight: 700;
      color: #864f3a;
      text-decoration: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      display: inline-flex;
      justify-content: center;
      align-items: center;
      gap: 4px;
    }

    .intro-btn.mail {
      background: #ffe3dd;
      border-color: #f7b9a7;
    }

    .intro-btn.story {
      background: #ffeecd;
      border-color: #f7cfa0;
    }

    .intro-btn.ig {
      background: #e9e5ff;
      border-color: #c4b9ff;
    }

    .intro-tip {
      font-size: 11px;
      color: #b0886a;
      margin: 4px 0 0;
    }

    /* å››æ ¼å…¥å£é¸å–® */
    .section-title {
      margin: 0 0 8px;
      font-size: 16px;
      font-weight: 800;
      color: #7b4a7a;
    }

    .icon-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 8px;
    }

    .icon-btn {
      background: #fff9ef;
      border: 2px solid #f7dba5;
      border-radius: 16px;
      padding: 14px 10px 12px;
      text-align: center;
      text-decoration: none;
      color: #5a3844;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      transition: transform .12s ease, box-shadow .12s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      min-height: 90px;
    }

    .icon-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.14);
    }

    .icon-emoji {
      font-size: 28px;
    }

    .icon-title {
      font-size: 14px;
      font-weight: 700;
    }

    .icon-desc {
      font-size: 11px;
      opacity: 0.7;
      line-height: 1.3;
    }

    /* é»é ­åƒæ™‚çš„å¯æ„›æ™ƒå‹• */
    .shake {
      animation: bear-shake 0.3s ease;
    }

    @keyframes bear-shake {
      0%   { transform: translateX(0); }
      25%  { transform: translateX(-2px); }
      50%  { transform: translateX(2px); }
      75%  { transform: translateX(-1px); }
      100% { transform: translateX(0); }
    }

    @media (max-width: 400px) {
      #quoteBearAvatar {
        width: 100px;
        height: 100px;
      }
    }

    /* Splash æ”¹å¥¶æ²¹è‰² */
    #splash {
      position: fixed;
      inset: 0;
      background: #fde9d2;
      color: #5a3844;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    .splash-inner {
      text-align: center;
    }
    .splash-inner .hero-bear {
      width: 96px;
      height: 96px;
      border-radius: 50%;
      margin-bottom: 8px;
    }

    /* ğŸ“‹ é•·æŒ‰è¤‡è£½æç¤º Toast */
    .toast-copy {
      position: fixed;
      left: 50%;
      bottom: 24px;
      transform: translateX(-50%) translateY(20px);
      background: rgba(65, 48, 40, 0.95);
      color: #fff7ec;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.3);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.18s ease, transform 0.18s ease;
      z-index: 1000;
    }
    .toast-copy.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  </style>
</head>

<body class="page-wrap" data-page="home">
  <!-- ğŸ”† å•Ÿå‹•ç•«é¢ -->
  <div id="splash">
    <div class="splash-inner">
      <img src="icons/bear-192.png" alt="ç†Šç†Šæ‘é•·" class="hero-bear">
      <p>ç†Šç†Šæ‘é•·æ­£åœ¨æº–å‚™å†’éšªé“å…·â€¦</p>
    </div>
  </div>

  <div class="game-wrap">

    <!-- ğŸ» æ‘é•·ç†Šç†Šä»‹ç´¹ + ä¿¡ç®± + æ•…äº‹å±‹ + IG -->
    <div class="card intro-card">

      <!-- ä¸ŠåŠéƒ¨ï¼šå·¦é‚Šå°è©±æ¡†ï¼Œå³é‚Šæ‘é•·é ­åƒ -->
      <div class="intro-main">
        <div class="intro-main-left">
          <!-- ğŸ—¨ï¸ ç†Šç†Šèªªè©±çš„å°å°è©±æ¡†ï¼ˆé¡¯ç¤ºå°èªï¼‰ -->
          <div id="bearSpeech" class="bear-speech">
            <div id="bearSpeechText">
              ä»Šå¤©çš„ç†Šç†Šå°èªåœ¨é€™è£¡å‡ºç¾ï½å…ˆé»é»å³é‚Šçš„æ‘é•·ç†Šç†Šå§ï¼
            </div>
          </div>
        </div>
        <div class="intro-main-right">
          <!-- é»é€™é¡†ç†Šç†Šé ­åƒå¯ä»¥åˆ·æ–°å°èª & é¡¯ç¤ºå°è©±æ¡† -->
          <img src="images/bear.png" alt="æ‘é•·ç†Šç†Š" id="quoteBearAvatar">
        </div>
      </div>

      <h1 class="home-title">ç†Šç†Šæ‘èŠ</h1>
      <p class="subtitle">å°å‹‡è€…ï¼Œé–‹å§‹ä»Šå¤©çš„å°å°å†’éšªå§ï¼</p>

      <p class="intro-text">
        åœ¨æ˜Ÿæ˜Ÿæœƒæ‰ä¸‹ä¾†çš„å±±è°·è£¡ï¼Œæœ‰ä¸€éš»æ¯›èŒ¸èŒ¸çš„å°ç†Šï¼Œé»˜é»˜é™ªè‘—æ¯ä¸€å€‹éœ€è¦ä¼‘æ¯çš„äººã€‚  
        ä»–æŠŠé€™è£¡å–åç‚ºã€Œå†’éšªè€…å¤©å ‚ã€ï¼Œå¸Œæœ›æ¯å€‹ä¾†åˆ°é€™è£¡çš„äººï¼Œéƒ½èƒ½å¸¶è‘—ä¸€é»é»æ›´æº«æŸ”çš„å‹‡æ°£å›å®¶ã€‚
      </p>

      <div class="intro-btn-row">
        <a href="mailto:luckygbear@gmail.com" class="intro-btn mail">
          âœ‰ï¸ å¯«ä¿¡çµ¦æ‘é•·ç†Šç†Š
        </a>
        <a href="stories.html" class="intro-btn story">
          ğŸ“– ç†Šç†Šæ•…äº‹å±‹
        </a>
        <a href="https://instagram.com/luckygbear" target="_blank" class="intro-btn ig">
          ğŸ“· è¿½è¹¤ IG çœ‹ç†Šç†Šæ—¥å¸¸
        </a>
      </div>

      <p class="intro-tip">
        å°ç§˜å¯†ï¼šé»ä¸€ä¸‹å³é‚Šçš„æ‘é•·ç†Šç†Šï¼Œç†Šç†Šæ‘é•·æœƒå’Œä½ å°è©±å”·ï¼<br/>
        é•·æŒ‰å°è©±æ¡†è£¡çš„å°èªï¼Œå¯ä»¥è¤‡è£½èµ·ä¾†å‚³çµ¦æœ‹å‹æˆ–è²¼åœ¨ç¤¾ç¾¤å–”ï¼
      </p>
    </div>

    <!-- âœ¨ å››æ ¼å…¥å£é¸å–® -->
    <div class="card">
      <h3 class="section-title">å¾é€™è£¡é¸ä¸€å€‹å…¥å£é–‹å§‹å†’éšªï¼š</h3>

      <div class="icon-grid">
        <!-- ğŸ”® ç†Šç†Šå¡”ç¾…å åœ -->
        <a class="icon-btn" href="https://luckygbear-coder.github.io/Bear-Tarot/tarot.html">
          <div class="icon-emoji">ğŸ”®</div>
          <div class="icon-title">ç†Šç†Šå¡”ç¾…å åœ</div>
          <div class="icon-desc">å¤§ç§˜å„€ï½œå°æŒ‡å¼•</div>
        </a>

        <!-- ğŸ§¿ ç†Šç†Šæ˜“ç¶“åœå¦ -->
        <a class="icon-btn" href="https://luckygbear-coder.github.io/Bear8/">
          <div class="icon-emoji">ğŸ§¿</div>
          <div class="icon-title">ç†Šç†Šæ˜“ç¶“åœå¦</div>
          <div class="icon-desc">å…­åå››å¦ï½œå¤§é“è‡ªç„¶</div>
        </a>

        <!-- ğŸ—ºï¸ å°å‹‡è€…å¤§å†’éšª -->
        <a class="icon-btn" href="https://luckygbear-coder.github.io/HeroApp/choose-hero.html">
          <div class="icon-emoji">ğŸ—ºï¸</div>
          <div class="icon-title">å°å‹‡è€…å¤§å†’éšª</div>
          <div class="icon-desc">å‰ªåˆ€çŸ³é ­å¸ƒï½œå®‰æ’«é­”ç‰©</div>
        </a>

        <!-- ğŸ“” å‹‡è€…æ—¥è¨˜ï¼ˆåŸèªéŒ„å°å±‹ï¼‰ -->
        <a class="icon-btn" href="quotes.html">
          <div class="icon-emoji">ğŸ“”</div>
          <div class="icon-title">å°å‹‡è€…æ—¥è¨˜&ç†Šç†ŠèªéŒ„</div>
          <div class="icon-desc">ä¸€å¥å‰›å‰›å¥½çš„å‹‡æ°£</div>
        </a>
      </div>
    </div>

  </div>

  <!-- ğŸ“‹ è¤‡è£½æˆåŠŸæç¤º -->
  <div id="copyToast" class="toast-copy">å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿</div>

  <!-- å…±ç”¨ script -->
  <script src="script.js"></script>

  <!-- Splash + Service Worker -->
  <script>
    window.addEventListener('load', () => {
      const splash = document.getElementById('splash');
      if (splash) {
        setTimeout(() => {
          splash.style.transition = 'opacity 0.4s ease';
          splash.style.opacity = '0';
          setTimeout(() => splash.remove(), 400);
        }, 800);
      }

      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js').catch(err => {
          console.log('SW è¨»å†Šå¤±æ•—ï¼š', err);
        });
      }
    });
  </script>

  <!-- éš¨æ©Ÿ 30 å¥æ‘é•·å°èª + é»é ­åƒåˆ·æ–° & å°è©±æ¡† + é•·æŒ‰è¤‡è£½ï¼ˆåœ¨æ°£æ³¡æ–‡å­—ä¸Šï¼‰ -->
  <script>
    const BEAR_QUOTES = [
      "æº«æŸ”æ˜¯ä¸€ç¨®åŠ›é‡ï¼Œè€Œä½ ä¹Ÿæ“æœ‰å®ƒã€‚",
      "èµ°å¾—æ…¢æ²’é—œä¿‚ï¼Œé‡è¦çš„æ˜¯ä½ é‚„åœ¨å¾€å‰ã€‚",
      "ä¸çŸ¥é“æ€éº¼è¾¦çš„æ—¥å­ï¼Œå°±å…ˆå¥½å¥½ç¡ä¸€è¦ºã€‚",
      "ä½ ä¸éœ€è¦å®Œç¾ï¼Œå·²ç¶“å¾ˆå€¼å¾—è¢«å–œæ­¡ã€‚",
      "é›£éçš„æ™‚å€™ï¼Œå¯ä»¥å…ˆè®“è‡ªå·±ç•¶ä¸€ä¸‹å°æœ‹å‹ã€‚",
      "ä»Šå¤©æœ‰å¥½å¥½åƒé£¯ï¼Œå°±æ˜¯ä¸€ç¨®å‹‡æ°£ä»»å‹™å®Œæˆã€‚",
      "å¿ƒè£¡äº‚ç³Ÿç³Ÿæ™‚ï¼Œå…ˆæŠŠæˆ¿é–“çš„ä¸€è§’æ•´ç†å¥½å°±å¥½ã€‚",
      "æ‹’çµ•åˆ¥äººä¹Ÿæ˜¯åœ¨å¥½å¥½ç…§é¡§è‡ªå·±ã€‚",
      "ä½ å¯ä»¥èªªã€Œæˆ‘ä¹Ÿæœƒæ€•ã€ï¼Œé€™å¥è©±ä¸€é»éƒ½ä¸ä¸Ÿè‡‰ã€‚",
      "åˆ¥æ€¥è‘—å°è‡ªå·±å¤±æœ›ï¼Œä½ é‚„åœ¨å­¸ç¿’è€Œå·²ã€‚",
      "æœ‰æƒ…ç·’ï¼Œä¸ä»£è¡¨ä½ ä¸å¤ å¥½ï¼Œåªä»£è¡¨ä½ æ˜¯äººã€‚",
      "ä½ é¡˜æ„æ±‚åŠ©æ™‚ï¼Œä¸–ç•Œä¹Ÿæœƒä¼¸å‡ºä¸€é»æ‰‹ã€‚",
      "å°å°çš„é–‹å¿ƒï¼Œå¯ä»¥ç–Šæˆå¾ˆå¤§çš„åŠ›é‡ã€‚",
      "ä»Šå¤©å¦‚æœåªåšåˆ°ä¸€ä»¶å°äº‹ï¼Œä¹Ÿå€¼å¾—è¢«ç¨±è®šã€‚",
      "æ”¾éè‡ªå·±çš„é‚£ä¸€åˆ»ï¼Œæ‰æ˜¯çœŸçš„é•·å¤§ã€‚",
      "ä½ ä¸ä¸€å®šè¦ç•¶ç¬¬ä¸€åï¼Œåªè¦ç•¶è‡ªå·±çš„å¤¥ä¼´ã€‚",
      "ä¸èˆ’æœçš„é—œä¿‚ï¼Œå¯ä»¥æ…¢æ…¢é é›¢æ²’é—œä¿‚ã€‚",
      "åˆ¥å¿˜äº†ï¼Œä½ ä¹Ÿå€¼å¾—è¢«æº«æŸ”å°å¾…ã€‚",
      "æƒ³å“­å°±å…ˆå“­ï¼Œå†ä¾†æƒ³è¦æ€éº¼èµ°ä¸‹å»ã€‚",
      "å®³æ€•æ”¹è®Šå¾ˆæ­£å¸¸ï¼Œä½†ä½ å·²ç¶“åœ¨æ€è€ƒå°±æ˜¯é€²æ­¥ã€‚",
      "æœ‰äººæ‡‚å¾ˆå¥½ï¼Œæ²’æœ‰äººæ‡‚æ™‚ï¼Œæˆ‘æ‡‚ä½ ã€‚",
      "ç•¶ä½ è¦ºå¾—æ’ä¸ä½æ™‚ï¼Œä¾†é€™è£¡åä¸€ä¸‹å°±å¥½ã€‚",
      "ä½ ç¾åœ¨çš„æ¨£å­ï¼Œå·²ç¶“æ¯”æ˜¨å¤©æ›´å‹‡æ•¢ä¸€é»é»ã€‚",
      "ä¸å¿…æŠŠæ‰€æœ‰äººéƒ½ç…§é¡§å¥½ï¼Œå…ˆå¾è‡ªå·±é–‹å§‹ã€‚",
      "ä¸–ç•Œä¸ä¸€å®šå¾ˆæº«æŸ”ï¼Œä½†æˆ‘å€‘å¯ä»¥å°è‡ªå·±æº«æŸ”ã€‚",
      "åˆ¥æŠŠå¿ƒè£¡æ‰€æœ‰è²éŸ³éƒ½ç•¶æˆçœŸå¯¦ï¼Œå¯ä»¥æŒ‘è‘—è½ã€‚",
      "è¿·è·¯çš„æ™‚å€™ï¼Œä¹Ÿæ˜¯åœ¨æ”¶é›†åœ°åœ–çš„ä¸€éƒ¨åˆ†ã€‚",
      "å¦‚æœåªå‰©ä¸€æ ¼é›»ï¼Œå°±ç•™çµ¦è®“ä½ å¿ƒå®‰çš„äº‹æƒ…ã€‚",
      "ç–²ç´¯çš„æ™‚å€™ï¼Œä¼‘æ¯ä¸æ˜¯æ‡¶æƒ°ï¼Œæ˜¯åœ¨ä¿®è£œç¿…è†€ã€‚",
      "ä½ å¯ä»¥æ…¢æ…¢ä¾†ï¼Œç†Šç†Šæœƒåœ¨é€™è£¡ç­‰ä½ ã€‚"
    ];

    function pickRandomQuote() {
      const speechEl = document.getElementById('bearSpeechText');
      if (!speechEl) return;

      const idx = Math.floor(Math.random() * BEAR_QUOTES.length);
      const text = BEAR_QUOTES[idx];

      speechEl.textContent = text;
    }

    function showCopyToast() {
      const toast = document.getElementById('copyToast');
      if (!toast) return;
      toast.classList.add('show');
      clearTimeout(window._copyToastTimer);
      window._copyToastTimer = setTimeout(() => {
        toast.classList.remove('show');
      }, 1300);
    }

    function copyCurrentQuote() {
      const speechEl = document.getElementById('bearSpeechText');
      if (!speechEl) return;
      const text = (speechEl.textContent || "").trim();
      if (!text) return;

      function fallbackCopy() {
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.style.position = 'fixed';
        ta.style.left = '-9999px';
        document.body.appendChild(ta);
        ta.select();
        try {
          document.execCommand('copy');
          showCopyToast();
        } catch (e) {
          console.log('è¤‡è£½å¤±æ•—', e);
        }
        document.body.removeChild(ta);
      }

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text)
          .then(showCopyToast)
          .catch(() => fallbackCopy());
      } else {
        fallbackCopy();
      }
    }

    function setupLongPressCopy() {
      const target = document.getElementById('bearSpeechText');
      if (!target) return;

      let pressTimer = null;

      const start = () => {
        if (pressTimer !== null) return;
        pressTimer = setTimeout(() => {
          copyCurrentQuote();
          pressTimer = null;
        }, 650); // é•·æŒ‰ 0.65 ç§’è§¸ç™¼
      };

      const cancel = () => {
        if (pressTimer !== null) {
          clearTimeout(pressTimer);
          pressTimer = null;
        }
      };

      ['mousedown', 'touchstart'].forEach(ev =>
        target.addEventListener(ev, start)
      );
      ['mouseup', 'mouseleave', 'touchend', 'touchcancel', 'touchmove'].forEach(ev =>
        target.addEventListener(ev, cancel)
      );
    }

    document.addEventListener('DOMContentLoaded', () => {
      const avatar = document.getElementById('quoteBearAvatar');
      const bubble = document.getElementById('bearSpeech');

      if (avatar) {
        avatar.addEventListener('click', () => {
          // æ¯æ¬¡é»é ­åƒæ›ä¸€å¥
          pickRandomQuote();

          // é¡¯ç¤ºå°è©±æ¡†
          if (bubble) {
            bubble.classList.add('show');
          }

          // å°æ™ƒå‹•å‹•ç•«
          avatar.classList.remove('shake');
          void avatar.offsetWidth;
          avatar.classList.add('shake');
        });
      }

      // è¨­å®šé•·æŒ‰è¤‡è£½å°èªï¼ˆå°è©±æ¡†æ–‡å­—ï¼‰
      setupLongPressCopy();
    });
  </script>
</body>
</html>