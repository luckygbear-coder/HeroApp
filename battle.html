<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>戰鬥中｜小勇者之旅大冒險</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body class="page-wrap" data-page="battle">

  <div class="game-wrap">

    <!-- 敵方資訊 -->
    <div class="card status-card">
      <h2>敵方資訊</h2>
      <p id="monsterStageText"></p>
      <p id="monsterNameText"></p>
      <p>LV.<span id="monsterLevelText">1</span></p>
      <p>天賦拳：<span id="monsterTalentText">？</span></p>
      <p>禁用拳：<span id="monsterForbidText">—</span></p>

      <div class="emotion-bar">
        <ul id="emotionList"></ul>
      </div>
    </div>

    <!-- 我方資訊 -->
    <div class="card status-card">
      <h2>小勇者</h2>
      <p id="heroNameText"></p>
      <p>HP：<span id="heroHpText"></span></p>
      <p>天賦拳：<span id="heroTalentText"></span></p>
      <p>裝備：<span id="heroEquipText"></span></p>
      <p>能力加成：<span id="heroBuffText"></span></p>
    </div>

    <!-- 對話紀錄 -->
    <div class="card dialog-card">
      <h2>戰鬥對話</h2>
      <div id="dialogBox" class="dialog-box"></div>
      <p id="roundResult" style="font-weight:bold;"></p>
      <p>回合：<span id="roundCount">0</span></p>
    </div>

    <!-- 出拳 -->
    <div class="card battle-card">
      <h2>選擇你的拳</h2>
      <div class="battle-row">
        <button class="rps-btn circle" data-move="rock">✊</button>
        <button class="rps-btn circle" data-move="scissors">✌️</button>
        <button class="rps-btn circle" data-move="paper">🖐</button>
        <button id="itemBagBtn" class="item-bag-btn">🎒</button>
      </div>

      <button id="backToMapBtn" class="secondary-btn full">離開戰鬥</button>
    </div>

    <!-- 道具 Modal -->
    <div id="itemModal" class="modal">
      <div class="modal-content">
        <h3>道具籃</h3>
        <p>小蘋果：<span id="appleSmallCount"></span></p>
        <button class="item-use-btn" data-item="appleSmall">使用</button>

        <p>大蘋果：<span id="appleBigCount"></span></p>
        <button class="item-use-btn" data-item="appleBig">使用</button>

        <p>復活星星：<span id="reviveCount"></span></p>
        <button class="item-use-btn" data-item="revive">使用</button>

        <button id="closeItemModal" class="close-btn">關閉</button>
      </div>
    </div>

  </div>

  <!-- 底部導覽 -->
  <nav class="bottom-nav">
    <a href="index.html" class="nav-item" data-nav="home">
      <div class="icon">🐻</div><div class="label">村長的家</div>
    </a>
    <a href="tarot.html" class="nav-item" data-nav="tarot">
      <div class="icon">🔮</div><div class="label">占卜屋</div>
    </a>
    <a href="map.html" class="star-btn" data-nav="map">⭐</a>
    <a href="shop.html" class="nav-item" data-nav="shop">
      <div class="icon">🛍</div><div class="label">商店</div>
    </a>
    <a href="choose-hero.html" class="nav-item" data-nav="hero">
      <div class="icon">🧒</div><div class="label">小勇者的家</div>
    </a>
  </nav>

<script src="script.js"></script>
</body>
</html>